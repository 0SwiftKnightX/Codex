# agentydragon

This file documents the changes introduced on the `agentydragon` branch
(off the `main` branch) of the codex repository.

## codex-rs: session resume and playback
- Added `session` subcommand to the CLI (`codex session <UUID>`) to resume TUI sessions by UUID.
- Integrated the `uuid` crate for session identifiers.
- Updated TUI (`codex-rs/tui`) to respect and replay previous session transcripts:
  - Methods: `set_session_id`, `session_id`, `replay_items`.
  - Load rollouts from `sessions/rollout-<UUID>.jsonl`.
- Printed resume command on exit: `codex session <UUID>`.

## codex-core enhancements
- Exposed core model types: `ContentItem`, `ReasoningItemReasoningSummary`, `ResponseItem`.
- Added `composer_max_rows` setting (with serde default) to TUI configuration.

## Dependency updates
- Added `uuid` crate to `codex-rs/cli` and `codex-rs/tui`.

## Pre-commit config changes
- Configured Rust build hook in `.pre-commit-config.yaml` to fail on warnings by setting `RUSTFLAGS="-D warnings"`.

## codex-rs/tui: Undo feedback decision with Esc key
- Pressing `Esc` in feedback-entry mode now cancels feedback entry and returns to the select menu, preserving the partially entered feedback text.
- Added a unit test for the ESC cancellation behavior in `tui/src/user_approval_widget.rs`.

## Documentation tasks

Tasks live under `agentydragon/tasks/` as individual Markdown files. Please update each taskâ€™s **Status** and **Implementation** sections in place rather than maintaining a static list here.

### Branch & Worktree Workflow

- **Branch convention**: work on each task in its own branch named `agentydragon-<task-id>-<task-slug>`, to avoid refname conflicts.
- **Worktree helper**: in `agentydragon/tasks/`, run:
-
-   ```sh
-   # Accept a full slug (NN-slug) or two-digit task ID (NN), optionally multiple; use --tmux to open each in a tmux window:
-   create-task-worktree.sh [--agent] [--tmux] <task-slug|NN> [<task-slug|NN>...]
-   ```
-
-  Without `--agent`, this creates or reuses a worktree at
-  `agentydragon/tasks/.worktrees/<task-id>-<task-slug>` off the `agentydragon` branch.
-  With `--agent`, after setup it launches a Codex agent in that workspace,
  -  preloaded to work on the specified task from its Markdown file.

  - **Review helper**: in the repo root run:

    ```sh
    agentydragon/tasks/review-unmerged-task-branches.sh
    ```

    This will launch a Codex agent to review all `agentydragon/NN-slug` branches not yet merged into `agentydragon`, prompting you to merge completed tasks and reporting any branches that need further work.

---

*This README was autogenerated to summarize changes on the `agentydragon` branch.*
